# Build using Visual Studio 2017 on Windows Server 2016.
# Variables with password stored in Azure secrets

trigger: none

pool:
  vmImage: 'vs2017-win2016'

variables:
  build_cake: './src/build.cake'

steps:

- task: UseNode@1
  inputs:
    script: '"C:\Program Files\nodejs\npm.cmd" --version'
  displayName: Installing Node 10


- task: PowerShell@2
  inputs:
    targetType: 'inline'
    script: |
      #try
      ./src/build.ps1 --Target 002-Build
    errorActionPreference: 'continue'
    workingDirectory: './src/'
  displayName: Build
  continueOnError: true